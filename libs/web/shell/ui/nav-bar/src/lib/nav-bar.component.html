<div class="nav-wrapper" *rxLet="vm$; let vm">
  <div class="grad-bar"></div>
  <nav class="navbar" *transloco="let t">
    <span class="logo" routerLink="/"
      ><img src="assets/images/ws_logo.svg" alt=""
    /></span>
    <div
      class="menu-toggle"
      [ngClass]="vm.menuOpen ? 'is-active' : ''"
      id="mobile-menu"
      (click)="toggleMenu()"
    >
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </div>
    <div class="nav-right">
      <ul class="nav nav-animate" [ngClass]="vm.menuOpen ? 'mobile-nav' : ''">
        <li class="nav-item">
          <a href="javascript:void(0)" routerLink="/">{{
            t('navbar.homepage')
          }}</a>
        </li>
        @if (!vm.authenticated) {
          <li class="nav-item">
            <a href="javascript:void(0)" routerLink="/signup">{{
              t('navbar.signup')
            }}</a>
          </li>
        }
        @if (!vm.authenticated) {
          <li class="nav-item">
            <a href="javascript:void(0)" routerLink="/login">{{
              t('navbar.login')
            }}</a>
          </li>
        }
        @if (vm.authenticated) {
          <li class="nav-item">
            <a href="javascript:void(0)" routerLink="/wishlists">{{
              t('navbar.wishlists')
            }}</a>
          </li>
        }
      </ul>
      @if (vm.authenticated && vm.userName) {
        <span
          (tuiActiveZoneChange)="onAvatarMenuActiveZone($event)"
          (tuiObscured)="onAvatarMenuObscured($event)"
        >
          <div
            class="user-avatar"
            size="s"
            [tuiAvatar]="vm.userName | tuiInitials"
            [tuiDropdown]="avatarDropdown"
            [tuiDropdownManual]="avatarMenuOpen"
            (click)="toggleAvatarMenu()"
          ></div>
          <ng-template #avatarDropdown>
            <tui-data-list role="menu">
              <button
                tuiOption
                new
                type="button"
                role="menuitem"
                (click)="onSwitchLanguage()"
              >
                <tui-icon icon="@tui.languages" />
                <span>{{ t('navbar.switchLanguage') }}</span>
              </button>
              <button
                tuiOption
                new
                type="button"
                role="menuitem"
                (click)="onLogout()"
              >
                <tui-icon icon="@tui.log-out" />
                <span>{{ t('navbar.logout') }}</span>
              </button>
            </tui-data-list>
          </ng-template>
        </span>
      }
    </div>
  </nav>
</div>
