<div
  tuiCardLarge
  appearance="floating"
  class="wishlist-card"
  *transloco="let t"
>
  <header tuiHeader class="card-header">
    <div class="header-left" (click)="openDetails()">
      <tui-icon icon="@tui.list" class="wishlist-icon"></tui-icon>
      <h3 tuiTitle class="card-title">{{ wishlist().title }}</h3>
    </div>
    <aside tuiAccessories class="drag-handle" cdkDragHandle>
      <tui-icon icon="@tui.grip-vertical" class="handle-icon"></tui-icon>
    </aside>
  </header>

  <section
    class="wishes-section"
    cdkDropList
    cdkDropListOrientation="vertical"
    [cdkDropListData]="wishlist().wishes?.rows || []"
    (cdkDropListDropped)="onWishDrop($event)"
    [cdkDropListLockAxis]="'y'"
  >
    @if (wishlist().wishes?.rows?.length) {
      @for (wish of wishlist().wishes?.rows; track wish.$id; let i = $index) {
        <wishare-wish
          cdkDrag
          [cdkDragData]="wish"
          [cdkDragLockAxis]="'y'"
          [wish]="wish"
          (wishClick)="onWishClick($event)"
        >
          <div class="wish-drag-placeholder" *cdkDragPlaceholder></div>
        </wishare-wish>
      }
    } @else {
      <div class="no-wishes">
        <span class="no-wishes-text">{{ t('wishlist.no-wishes') }}</span>
      </div>
    }
  </section>

  <footer class="card-footer">
    <button
      tuiButton
      type="button"
      appearance="flat"
      size="s"
      iconStart="@tui.plus"
      (click)="createWish()"
    >
      {{ t('wishlist.add-wish') }}
    </button>
    <div class="footer-actions">
      <button
        tuiIconButton
        type="button"
        appearance="flat"
        size="s"
        iconStart="@tui.edit-2"
        (click)="editWishlist()"
      ></button>
      <button
        tuiIconButton
        type="button"
        appearance="flat"
        size="s"
        iconStart="@tui.trash-2"
        (click)="deleteWishlist()"
      ></button>
    </div>
  </footer>
</div>
